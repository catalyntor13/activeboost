module.exports=[20267,e=>e.a(async(t,a)=>{try{let t=await e.y("@react-pdf/renderer");e.n(t),a()}catch(e){a(e)}},!0),88034,e=>e.a(async(t,a)=>{try{var i=e.i(22260),r=e.i(20267),n=t([r]);[r]=n.then?(await n)():n,r.Font.register({family:"Roboto",src:"https://cdnjs.cloudflare.com/ajax/libs/ink/3.1.10/fonts/Roboto/roboto-regular-webfont.ttf"});let s=r.StyleSheet.create({page:{padding:30,fontSize:12,fontFamily:"Roboto"},header:{flexDirection:"row",justifyContent:"space-between",marginBottom:20},logo:{width:200,height:"auto",marginBottom:10},title:{fontSize:24,fontWeight:"bold",marginBottom:10},section:{marginBottom:10},label:{fontWeight:"bold",fontSize:10,color:"#666"},value:{fontSize:12,marginBottom:4},table:{display:"flex",width:"auto",borderStyle:"solid",borderWidth:1,borderColor:"#eee",marginTop:20},tableRow:{flexDirection:"row",borderBottomWidth:1,borderBottomColor:"#eee",alignItems:"center",height:30},col1:{width:"50%",paddingLeft:5},col2:{width:"25%",textAlign:"right"},col3:{width:"25%",textAlign:"right",paddingRight:5},total:{marginTop:20,textAlign:"right",fontSize:14,fontWeight:"bold"}});e.s(["InvoicePDF",0,({orderId:e,date:t,numeClient:a,emailClient:n,adresaClient:l,amount:o,produs:d})=>(0,i.jsx)(r.Document,{children:(0,i.jsxs)(r.Page,{size:"A4",style:s.page,children:[(0,i.jsxs)(r.View,{style:s.header,children:[(0,i.jsxs)(r.View,{children:[(0,i.jsx)(r.Text,{style:s.title,children:"FACTURÄ‚"}),(0,i.jsxs)(r.Text,{style:s.value,children:["Seria AB nr. ",e.toUpperCase()]}),(0,i.jsxs)(r.Text,{style:s.value,children:["Data: ",t]})]}),(0,i.jsxs)(r.View,{children:[(0,i.jsx)(r.Image,{style:s.logo,src:"https://activeboost.ro/activeboost.png"}),(0,i.jsx)(r.Text,{style:{...s.title,fontSize:16},children:"Active Boost"})]})]}),(0,i.jsxs)(r.View,{style:{flexDirection:"row",justifyContent:"space-between",marginTop:20},children:[(0,i.jsxs)(r.View,{style:{width:"45%"},children:[(0,i.jsx)(r.Text,{style:s.label,children:"FURNIZOR:"}),(0,i.jsx)(r.Text,{style:s.value,children:"IDTORO S.R.L"}),(0,i.jsx)(r.Text,{style:s.value,children:"RO51431636"}),(0,i.jsx)(r.Text,{style:s.value,children:"J2024051439004"}),(0,i.jsx)(r.Text,{style:s.value,children:"Blvd. Dem Radulescu 15, Bloc X2, Scara A, Etaj 5, Ap. 37 Mun. Ramnicu Valcea, JudeÈ› Valcea, RomÃ¢nia"}),(0,i.jsx)(r.Text,{style:s.value,children:"0748904680"})]}),(0,i.jsxs)(r.View,{style:{width:"45%"},children:[(0,i.jsx)(r.Text,{style:s.label,children:"CLIENT:"}),(0,i.jsx)(r.Text,{style:s.value,children:a}),(0,i.jsx)(r.Text,{style:s.value,children:n}),(0,i.jsx)(r.Text,{style:s.value,children:l})]})]}),(0,i.jsxs)(r.View,{style:s.table,children:[(0,i.jsxs)(r.View,{style:{...s.tableRow,backgroundColor:"#f9f9f9"},children:[(0,i.jsx)(r.Text,{style:s.col1,children:"Produs / Serviciu"}),(0,i.jsx)(r.Text,{style:s.col2,children:"Cantitate"}),(0,i.jsx)(r.Text,{style:s.col3,children:"PreÈ›"})]}),(0,i.jsxs)(r.View,{style:s.tableRow,children:[(0,i.jsx)(r.Text,{style:s.col1,children:d}),(0,i.jsx)(r.Text,{style:s.col2,children:"1"}),(0,i.jsx)(r.Text,{style:s.col3,children:o})]})]}),(0,i.jsx)(r.View,{style:s.total,children:(0,i.jsxs)(r.Text,{children:["Total de platÄƒ: ",o]})}),(0,i.jsx)(r.View,{style:{position:"absolute",bottom:30,left:30,right:30,textAlign:"center"},children:(0,i.jsx)(r.Text,{style:{fontSize:10,color:"#999"},children:"AceastÄƒ facturÄƒ a fost emisÄƒ automat È™i circulÄƒ fÄƒrÄƒ semnÄƒturÄƒ È™i È™tampilÄƒ cf. art. 319 Cod Fiscal."})})]})})]),a()}catch(e){a(e)}},!1),22709,e=>{"use strict";var t=e.i(22260),a=e.i(16368),i=e.i(22252),r=e.i(51267),n=e.i(90595),s=e.i(22181),l=e.i(57066),o=e.i(32921),d=e.i(63224),c=e.i(59014),u=e.i(22190),h=e.i(37748);e.s(["default",0,({numeClient:e,linkGhid1:p,linkGhid2:m})=>(0,t.jsxs)(l.Html,{lang:"ro",children:[(0,t.jsx)(n.Head,{}),(0,t.jsx)(d.Preview,{children:"FelicitÄƒri! Ghidul tÄƒu Active Boost a sosit!"}),(0,t.jsx)(h.Tailwind,{children:(0,t.jsx)(a.Body,{className:" text-gray-800 font-sans",children:(0,t.jsxs)(r.Container,{className:"bg-white border border-gray-200 rounded-lg shadow-sm my-10 mx-auto p-8 max-w-sm",children:[(0,t.jsx)(c.Section,{className:"mt-4 mb-8 text-center",children:(0,t.jsx)(o.Img,{src:"https://www.activeboost.ro/activeboost.png",width:"180",alt:"Active Boost Logo",className:"mx-auto"})}),(0,t.jsxs)(s.Heading,{className:"text-3xl font-bold text-black text-center",children:["FelicitÄƒri, ",e,"!"]}),(0,t.jsxs)(c.Section,{className:"mt-6 ",children:[(0,t.jsx)(u.Text,{className:"text-lg leading-7 mx-2",children:"Sunt Adrian È™i vreau sÄƒ te felicit personal! Ai fÄƒcut primul È™i cel mai important pas cÄƒtre o viaÈ›Äƒ cu mai multÄƒ energie È™i control. Sunt foarte mÃ¢ndru de decizia ta."}),(0,t.jsx)(u.Text,{className:"text-lg leading-7 font-semibold text-black mx-2",children:"Gata cu aÈ™teptarea. GÄƒseÈ™ti mai jos link-urile securizate pentru a descÄƒrca pachetul tÄƒu complet:"})]}),(0,t.jsxs)(c.Section,{className:"text-center mt-8",children:[(0,t.jsx)(i.Button,{className:"font-semibold text-lg  bg-blue-500 p-4   border-2  border-solid mt-5 mb-2  text-white rounded-md",href:p,children:'DescarcÄƒ "Ghid Arta HidratÄƒrii"'}),(0,t.jsx)(u.Text,{className:"my-2 text-gray-600",children:"si"}),(0,t.jsx)(i.Button,{className:"font-semibold text-lg  bg-[#8ecb40ff] p-4   border-2 border-solid mt-5 mb-2 text-white rounded-md",href:m,children:'DescarcÄƒ "Ghid 10 Hack-uri Simple"'})]}),(0,t.jsxs)(c.Section,{className:"mt-8",children:[(0,t.jsx)(u.Text,{className:"text-lg leading-7 mx-2",children:"ÃŽÈ›i recomand sÄƒ salvezi ambele fiÈ™iere PDF pe telefon sau laptop pentru a le avea mereu la Ã®ndemÃ¢nÄƒ. Acesta este doar Ã®nceputul cÄƒlÄƒtoriei noastre Ã®mpreunÄƒ."}),(0,t.jsx)(u.Text,{className:"text-lg leading-7 mx-2",children:"Spor la citit!"}),(0,t.jsxs)(u.Text,{className:"text-lg leading-7 mt-4 mx-2",children:["Cu drag,",(0,t.jsx)("br",{}),"Adrian, Fondator Active Boost"]})]})]})})})]})])},81562,e=>e.a(async(t,a)=>{try{var i=e.i(22260),r=e.i(77035),n=e.i(18612),s=e.i(75225),l=e.i(54624),o=e.i(20267),d=e.i(1631),c=e.i(88034),u=e.i(22709),h=e.i(89446),p=t([o,d,c]);async function m(e){let t=await e.text(),a=new URLSearchParams(t).get("id");if(!a)return new Response("No ID",{status:400});let p=await l.mollieClient.payments.get(a),m=p.metadata,x=Number(m.internalOrderId),[g]=await r.db.select().from(n.orders).where((0,s.eq)(n.orders.id,x)).limit(1);if(!g)return new Response("Order not found",{status:404});if("paid"!==p.status||g.email_sent)await r.db.update(n.orders).set({paymentStatus:p.status,updatedAt:new Date}).where((0,s.eq)(n.orders.id,x));else{let e={orderId:g.id.toString(),date:new Date().toLocaleDateString("ro-RO"),numeClient:g.customer_name,emailClient:g.customer_email,adresaClient:g.customer_address,amount:`${p.amount.value} RON`,produs:"Pachet Mic Dejun Start Activ"},t=await (0,o.renderToStream)((0,i.jsx)(c.InvoicePDF,{...e})),a=[];for await(let e of t)a.push(e);let l=Buffer.concat(a),m=await (0,d.render)((0,i.jsx)(u.default,{numeClient:g.customer_name,linkGhid1:process.env.PDF_LINK_1,linkGhid2:process.env.PDF_LINK_2,oId:g.id.toString()}));await h.transporter.sendMail({from:`"Active Boost" <${process.env.SMTP_USER}>`,to:g.customer_email,subject:`FelicitÄƒri! Ghidul tÄƒu Active Boost a sosit! ðŸ”¥`,html:m,attachments:[{filename:`Factura_${x}.pdf`,content:l,contentType:"application/pdf"}]}),await r.db.update(n.orders).set({paymentStatus:"paid",email_sent:!0,updatedAt:new Date}).where((0,s.eq)(n.orders.id,x))}return new Response("OK",{status:200})}[o,d,c]=p.then?(await p)():p,e.s(["POST",()=>m]),a()}catch(e){a(e)}},!1),76765,e=>e.a(async(t,a)=>{try{var i=e.i(47909),r=e.i(74017),n=e.i(96250),s=e.i(59756),l=e.i(61916),o=e.i(14444),d=e.i(37092),c=e.i(69741),u=e.i(16795),h=e.i(87718),p=e.i(95169),m=e.i(47587),x=e.i(66012),g=e.i(70101),f=e.i(26937),w=e.i(10372),y=e.i(93695);e.i(52474);var v=e.i(220),b=e.i(81562),R=t([b]);[b]=R.then?(await R)():R;let A=new i.AppRouteRouteModule({definition:{kind:r.RouteKind.APP_ROUTE,page:"/api/webhooks/mollie/route",pathname:"/api/webhooks/mollie",filename:"route",bundlePath:""},distDir:".next",relativeProjectDir:"",resolvedPagePath:"[project]/app/api/webhooks/mollie/route.tsx",nextConfigOutput:"",userland:b}),{workAsyncStorage:S,workUnitAsyncStorage:C,serverHooks:N}=A;function j(){return(0,n.patchFetch)({workAsyncStorage:S,workUnitAsyncStorage:C})}async function T(e,t,a){A.isDev&&(0,s.addRequestMeta)(e,"devRequestTimingInternalsEnd",process.hrtime.bigint());let i="/api/webhooks/mollie/route";i=i.replace(/\/index$/,"")||"/";let n=await A.prepare(e,t,{srcPage:i,multiZoneDraftMode:!1});if(!n)return t.statusCode=400,t.end("Bad Request"),null==a.waitUntil||a.waitUntil.call(a,Promise.resolve()),null;let{buildId:b,params:R,nextConfig:j,parsedUrl:T,isDraftMode:S,prerenderManifest:C,routerServerContext:N,isOnDemandRevalidate:E,revalidateOnlyGenerated:P,resolvedPathname:D,clientReferenceManifest:_,serverActionsManifest:O}=n,I=(0,c.normalizeAppPath)(i),k=!!(C.dynamicRoutes[I]||C.routes[D]),B=async()=>((null==N?void 0:N.render404)?await N.render404(e,t,T,!1):t.end("This page could not be found"),null);if(k&&!S){let e=!!C.routes[D],t=C.dynamicRoutes[I];if(t&&!1===t.fallback&&!e){if(j.experimental.adapterPath)return await B();throw new y.NoFallbackError}}let F=null;!k||A.isDev||S||(F=D,F="/index"===F?"/":F);let H=!0===A.isDev||!k,U=k&&!H;O&&_&&(0,o.setReferenceManifestsSingleton)({page:i,clientReferenceManifest:_,serverActionsManifest:O,serverModuleMap:(0,d.createServerModuleMap)({serverActionsManifest:O})});let M=e.method||"GET",q=(0,l.getTracer)(),V=q.getActiveScopeSpan(),L={params:R,prerenderManifest:C,renderOpts:{experimental:{authInterrupts:!!j.experimental.authInterrupts},cacheComponents:!!j.cacheComponents,supportsDynamicResponse:H,incrementalCache:(0,s.getRequestMeta)(e,"incrementalCache"),cacheLifeProfiles:j.cacheLife,waitUntil:a.waitUntil,onClose:e=>{t.on("close",e)},onAfterTaskError:void 0,onInstrumentationRequestError:(t,a,i)=>A.onRequestError(e,t,i,N)},sharedContext:{buildId:b}},z=new u.NodeNextRequest(e),$=new u.NodeNextResponse(t),G=h.NextRequestAdapter.fromNodeNextRequest(z,(0,h.signalFromNodeResponse)(t));try{let n=async e=>A.handle(G,L).finally(()=>{if(!e)return;e.setAttributes({"http.status_code":t.statusCode,"next.rsc":!1});let a=q.getRootSpanAttributes();if(!a)return;if(a.get("next.span_type")!==p.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${a.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let r=a.get("next.route");if(r){let t=`${M} ${r}`;e.setAttributes({"next.route":r,"http.route":r,"next.span_name":t}),e.updateName(t)}else e.updateName(`${M} ${i}`)}),o=!!(0,s.getRequestMeta)(e,"minimalMode"),d=async s=>{var l,d;let c=async({previousCacheEntry:r})=>{try{if(!o&&E&&P&&!r)return t.statusCode=404,t.setHeader("x-nextjs-cache","REVALIDATED"),t.end("This page could not be found"),null;let i=await n(s);e.fetchMetrics=L.renderOpts.fetchMetrics;let l=L.renderOpts.pendingWaitUntil;l&&a.waitUntil&&(a.waitUntil(l),l=void 0);let d=L.renderOpts.collectedTags;if(!k)return await (0,x.sendResponse)(z,$,i,L.renderOpts.pendingWaitUntil),null;{let e=await i.blob(),t=(0,g.toNodeOutgoingHttpHeaders)(i.headers);d&&(t[w.NEXT_CACHE_TAGS_HEADER]=d),!t["content-type"]&&e.type&&(t["content-type"]=e.type);let a=void 0!==L.renderOpts.collectedRevalidate&&!(L.renderOpts.collectedRevalidate>=w.INFINITE_CACHE)&&L.renderOpts.collectedRevalidate,r=void 0===L.renderOpts.collectedExpire||L.renderOpts.collectedExpire>=w.INFINITE_CACHE?void 0:L.renderOpts.collectedExpire;return{value:{kind:v.CachedRouteKind.APP_ROUTE,status:i.status,body:Buffer.from(await e.arrayBuffer()),headers:t},cacheControl:{revalidate:a,expire:r}}}}catch(t){throw(null==r?void 0:r.isStale)&&await A.onRequestError(e,t,{routerKind:"App Router",routePath:i,routeType:"route",revalidateReason:(0,m.getRevalidateReason)({isStaticGeneration:U,isOnDemandRevalidate:E})},N),t}},u=await A.handleResponse({req:e,nextConfig:j,cacheKey:F,routeKind:r.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:C,isRoutePPREnabled:!1,isOnDemandRevalidate:E,revalidateOnlyGenerated:P,responseGenerator:c,waitUntil:a.waitUntil,isMinimalMode:o});if(!k)return null;if((null==u||null==(l=u.value)?void 0:l.kind)!==v.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==u||null==(d=u.value)?void 0:d.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});o||t.setHeader("x-nextjs-cache",E?"REVALIDATED":u.isMiss?"MISS":u.isStale?"STALE":"HIT"),S&&t.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let h=(0,g.fromNodeOutgoingHttpHeaders)(u.value.headers);return o&&k||h.delete(w.NEXT_CACHE_TAGS_HEADER),!u.cacheControl||t.getHeader("Cache-Control")||h.get("Cache-Control")||h.set("Cache-Control",(0,f.getCacheControlHeader)(u.cacheControl)),await (0,x.sendResponse)(z,$,new Response(u.value.body,{headers:h,status:u.value.status||200})),null};V?await d(V):await q.withPropagatedContext(e.headers,()=>q.trace(p.BaseServerSpan.handleRequest,{spanName:`${M} ${i}`,kind:l.SpanKind.SERVER,attributes:{"http.method":M,"http.target":e.url}},d))}catch(t){if(t instanceof y.NoFallbackError||await A.onRequestError(e,t,{routerKind:"App Router",routePath:I,routeType:"route",revalidateReason:(0,m.getRevalidateReason)({isStaticGeneration:U,isOnDemandRevalidate:E})}),k)throw t;return await (0,x.sendResponse)(z,$,new Response(null,{status:500})),null}}e.s(["handler",()=>T,"patchFetch",()=>j,"routeModule",()=>A,"serverHooks",()=>N,"workAsyncStorage",()=>S,"workUnitAsyncStorage",()=>C]),a()}catch(e){a(e)}},!1)];

//# sourceMappingURL=%5Broot-of-the-server%5D__78b8c27b._.js.map